{%- import "attr/common.j2" as Common -%}

{%- macro __enable_node(__context__, type, tsts, value, prefix) -%}
{%- if type == "XPath" -%}
<a:{{prefix}}a name="ENABLE" type="XPath">
    {%- for tst in tsts -%}
    <a:tst  expr="{{- tst.expr | expr_filter(__context__) -}}" 
            {{-Common.set_attr("true", tst.true_text)-}}
            {{-Common.set_attr("false", tst.false_text)-}} />
    {%- endfor -%}
</a:{{prefix}}a>
{%- else -%}
    {%- if value is not none -%}
        {%- if value is true -%}
<a:{{prefix}}a name="ENABLE" value="true"/>
        {%- else -%}
<a:{{prefix}}a name="ENABLE" value="false"/>
        {%- endif -%}
    {%- endif -%}
{%- endif -%}
{%- endmacro -%}

{# ENABLE Static Definition #}
{%- macro enable_node(__context__, EnableConfig, prefix) -%}
{{__enable_node(__context__, EnableConfig.type, EnableConfig.tsts, EnableConfig.value, prefix)}}
{%- endmacro -%}

